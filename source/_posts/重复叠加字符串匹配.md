#### 重复叠加字符串匹配

kmp的时候有个颠倒，要明白谁匹配谁


```c++
class Solution {
public:

    int strStr(string haystack,string needle){
        int m=haystack.size();
        int n=needle.size();
        if(n==0) return 0;
        vector<int> pi(n,0);
        for(int i=1,j=0;i<n;i++){
            while(j>0 && needle[i]!=needle[j])
                j = pi[j-1];
            if(needle[i]==needle[j])
                j++;
            pi[i] = j;
        }
        for(int i=0,j=0;i-j<m;i++){
            while(j>0 && haystack[i%m]!=needle[j])
                j = pi[j-1];
            if(haystack[i%m]==needle[j])
                j++;
            if(j==n){
                return i-n+1;
            }
        }
        return -1; 
    }


    int repeatedStringMatch(string a, string b) {
        if(b.size()==0){
            return 0;
        }
        int index = strStr(a,b);
        if(index==-1) return -1;
        int an = a.size(),bn=b.size();
        return ceil((index+bn)*1.0/an);
    }
};
```